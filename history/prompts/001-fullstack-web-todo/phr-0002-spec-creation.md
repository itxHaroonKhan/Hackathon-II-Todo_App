---
id: PHR-0002
title: Phase II Spec Creation
stage: spec
date: 2026-01-03
surface: agent
model: claude-sonnet-4-5-20250929
feature: 001-fullstack-web-todo
branch: 001-fullstack-web-todo
user: itxHaroonKhan
command: /sp.specify
labels: ["spec", "todo", "fullstack", "web-application"]
links:
  spec: specs/001-fullstack-web-todo/spec.md
  ticket: null
  adr: null
  pr: null
files:
 - specs/001-fullstack-web-todo/spec.md
 - specs/001-fullstack-web-todo/checklists/requirements.md
 - history/prompts/001-fullstack-web-todo/phr-0002-spec-creation.md
tests:
 - none
---

## Prompt

Phase II ‚Äî Full-Stack Web Todo Application

Target Audience:
Students acting as Product Architects, building a real-world full-stack application using AI-driven, spec-based development with Claude Code and Spec-Kit Plus.

Focus:
- Convert Phase I Todo logic into a full-stack web application
- Implement a strict API-first architecture
- Use real database persistence with PostgreSQL (Neon)
- Maintain clean separation between frontend and backend

Primary Goal:
Deliver a working full-stack Todo application where:
- FastAPI backend owns all business logic
- SQLModel manages persistent data in Neon DB
- Next.js frontend consumes backend APIs only

Success Criteria (MANDATORY):
- All 5 core Todo features work end-to-end:
  1. Add Task
  2. View Task List
  3. Update Task
  4. Delete Task
  5. Mark Task Complete / Incomplete
- Tasks persist in Neon DB across restarts
- Backend exposes clear REST APIs with proper HTTP status codes
- Frontend reflects backend state accurately
- No business logic exists in frontend
- Codebase is extendable for Phase III (AI-powered chatbot)

Functional Requirements:

Backend (FastAPI + SQLModel):
- Define a stable Task data model with:
  - id (primary key)
  - title (required)
  - description (optional)
  - is_completed (boolean)
  - created_at (timestamp)
- Implement REST endpoints:
  - POST   /tasks
  - GET    /tasks
  - PUT    /tasks/{id}
  - DELETE /tasks/{id}
  - PATCH  /tasks/{id}/toggle
- Validate all input using Pydantic / SQLModel
- Handle errors explicitly (404, 400, 422)
- Use environment-based configuration for DB connection

Database (Neon PostgreSQL):
- Use PostgreSQL via Neon only
- Connection string via environment variables
- No SQLite or local DB fallback
- Schema must match the Task model exactly

Frontend (Next.js):
- Provide UI to:
  - Add new tasks
  - Display task list with status indicators
  - Update task details
  - Delete tasks
  - Toggle completion status
- Communicate with backend using REST API calls
- Show loading and error states explicitly
- No direct database access
- No business validation logic

Non-Functional Requirements:
- Clean project structure:
  - Separate frontend and backend directories
- Readable, maintainable code
- No autogenerated scaffolding without understanding
- No unused files, code, or dependencies
- Manual testing only

Constraints:
- Tech stack fixed:
  - Frontend: Next.js
  - Backend: FastAPI
  - ORM: SQLModel
  - Database: Neon PostgreSQL
- Development via Claude Code + Spec-Kit Plus only
- No authentication or authorization
- No AI features (reserved for Phase III)
- No background jobs or messaging systems
- No Docker or Kubernetes (reserved for later phases)

Deliverables:
- GitHub repository containing:
  - Phase II Constitution
  - specs_history folder with all Phase II specs
  - backend/ source code
  - frontend/ source code
  - README.md with setup and run instructions
  - CLAUDE.md with Claude Code workflow instructions

Timeline:
- Phase II completion target: Dec 14, 2025

Not Building:
- AI chatbot or agents
- User accounts or login
- File uploads
- Real-time updates (WebSockets)
- Distributed systems
- Cloud deployment pipelines

Completion Definition:
Phase II is considered complete only if:
- Backend APIs function independently of frontend
- Frontend can be rebuilt without changing backend
- Data persists correctly in Neon DB
- All requirements trace back to this specification

## Response snapshot

Created comprehensive feature specification for Phase II Full-Stack Web Todo Application, including user scenarios, functional requirements, and success criteria.

## Outcome

- ‚úÖ Impact: Created complete feature spec with user stories, requirements, and success metrics
- üß™ Tests: none
- üìÅ Files: specs/001-fullstack-web-todo/spec.md, specs/001-fullstack-web-todo/checklists/requirements.md
- üîÅ Next prompts: /sp.plan to create implementation plan
- üß† Reflection: Specification follows template structure with prioritized user stories and measurable success criteria

## Evaluation notes (flywheel)

- Failure modes observed: PowerShell script not available on system, had to create feature manually
- Graders run and results (PASS/FAIL): N/A
- Prompt variant (if applicable): N/A
- Next experiment (smallest change to try): Create bash alternative to PowerShell script